function Workspace(){this.card_counter=0;this.columns=[];this.init=function(){var e=document.createElement("div");e.setAttribute("id","workspace");e.setAttribute("name","workspace");document.body.appendChild(e)};this.get_name=function(){for(var e in this.global)if(this.global[e]==this)return e};this.add_column=function(e,t){var n=document.getElementById("workspace");var r=document.createElement("div");r.setAttribute("id",e);r.setAttribute("name",e);r.setAttribute("class","k_columns");r.setAttribute("ondrop",t+".drop(event)");r.setAttribute("ondragover",t+".allowDrop(event)");r.innerHTML="<h2>"+e+"</h2>";n.appendChild(r);this.columns.push(e)};this.add_card_to_column=function(e,t){var n=document.getElementById(e);n.appendChild(t.get_card());this.card_counter++};this.allowDrop=function(e){e.preventDefault()};this.drag=function(e){e.dataTransfer.setData("Text",e.target.id)};this.drop=function(e){e.preventDefault();var t=e.dataTransfer.getData("Text");e.target.appendChild(document.getElementById(t))};this.remove_card=function(e){for(var t=0;t<=this.columns.length;t++){var n=document.getElementById(this.columns[t]);var r=document.getElementById(e);try{console.log("remove "+e);n.removeChild(r)}catch(i){console.log(i.message)}}this.card_counter--}}function Card(e,t,n,r){this.stTitle=e;this.stContent=t;this.iCardNUm=n;this.LOW="card normal-color";this.MID="card mid-color";this.HIGH="card high-color";this.stPrior=this.LOW;this.get_card=function(){var i=document.createElement("div");var s="card"+n;if(e==="")e="Task Card ";i.setAttribute("id",s);i.setAttribute("class",this.stPrior);i.setAttribute("draggable","true");i.setAttribute("ondragstart",r+".drag(event)");i.setAttribute("style","z-index:"+this.z_index+";top:"+this.top+"px;left:"+this.left+"px;");i.innerHTML="<div>"+e+" #"+n+".  <a href='#'  onclick='"+r+'.remove_card("'+s+"\")'>"+'<i class="fa fa-trash-o"></i></a></div><br>'+t;return i};this.destroy=function(e,t){var n=document.getElementById(e);var r=document.getElementById(t);try{n.removeChild(r)}catch(i){console.log(i.message)}}}Workspace.prototype.global=this