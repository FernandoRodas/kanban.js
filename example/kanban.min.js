function Workspace(){this.card_counter=0;this.columns=[];this.init=function(){var e=document.createElement("div");e.setAttribute("id","workspace");e.setAttribute("name","workspace");document.body.appendChild(e)};this.get_name=function(){for(var e in this.global)if(this.global[e]==this)return e};this.add_column=function(e,t){var n=document.getElementById("workspace");var r=document.createElement("div");r.setAttribute("id",e.replace(/[^a-z0-9]/gi,"_"));r.setAttribute("name",e.replace(/[^a-z0-9]/gi,"_"));r.setAttribute("class","k_columns");r.setAttribute("ondrop",t+".drop(event)");r.setAttribute("ondragover",t+".allowDrop(event)");r.innerHTML='<h2 class="column_header">'+e+"</h2>";n.appendChild(r);this.columns.push(e.replace(/[^a-z0-9]/gi,"_"))};this.add_card_to_column=function(e,t){var n=document.getElementById(e.replace(/[^a-z0-9]/gi,"_"));n.appendChild(t.get_card());this.card_counter++};this.allowDrop=function(e){e.preventDefault()};this.drag=function(e){e.dataTransfer.setData("Text",e.target.id)};this.drop=function(e){e.preventDefault();var t=e.dataTransfer.getData("Text");if(this.columns.indexOf(e.target.id)>=0)e.target.appendChild(document.getElementById(t));else return false};this.remove_card=function(e){for(var t=0;t<=this.columns.length;t++){var n=document.getElementById(this.columns[t]);var r=document.getElementById(e);try{n.removeChild(r)}catch(i){console.log(i.message)}}this.card_counter--}}function Card(e,t,n,r,i){this.stTitle=e;this.stContent=t;this.iCardNUm=n;this.LOW="card normal-color";this.MID="card mid-color";this.HIGH="card high-color";this.stPrior=this.LOW;this.get_card=function(){var s=document.createElement("div");var o="card"+n;if(e==="")e="Task Card ";s.setAttribute("id",o);s.setAttribute("class",this.stPrior);s.setAttribute("draggable","true");s.setAttribute("ondragstart",i+".drag(event)");s.innerHTML='<div class="c_header">'+e.toUpperCase()+" "+r+"&nbsp&nbsp  <a href='#' onclick='"+i+'.remove_card("'+o+"\")'> x </a> </div><br>"+t;return s};this.destroy=function(e,t){var n=document.getElementById(e);var r=document.getElementById(t);try{n.removeChild(r)}catch(i){console.log(i.message)}}}Workspace.prototype.global=this